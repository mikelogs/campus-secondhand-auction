{"remainingRequest":"C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\src\\components\\common\\AppHeader.vue?vue&type=style&index=0&id=fc5ca04c&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\src\\components\\common\\AppHeader.vue","mtime":1745553866000},{"path":"C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\node_modules\\css-loader\\index.js","mtime":1678197338000},{"path":"C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1678197338000},{"path":"C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1678197338000},{"path":"C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"C:\\Users\\26088\\OneDrive\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1678197338000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.header {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 60px;\n    background: #ffffff;\n    display: flex;\n    justify-content: center;\n    border-bottom: 1px solid #ebeef5;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n    z-index: 1000;\n}\n\n.header-container {\n    width: 1200px;\n    max-width: 95%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.app-name {\n    flex-shrink: 0;\n    margin-right: 15px;\n}\n\n.app-name a {\n    color: #409EFF;\n    font-size: 20px;\n    font-weight: 600;\n    text-decoration: none;\n    display: flex;\n    align-items: center;\n    transition: all 0.3s;\n}\n\n.app-name a:hover {\n    color: #66b1ff;\n}\n\n.app-name i {\n    margin-right: 8px;\n    font-size: 24px;\n}\n\n.search-container {\n    flex-grow: 1;\n    max-width: 500px;\n    margin: 0 20px;\n}\n\n.action-buttons {\n    display: flex;\n    align-items: center;\n    flex-shrink: 0;\n}\n\n.publish-btn, .message-btn {\n    margin-right: 10px;\n    border-radius: 20px;\n}\n\n.user-name-text {\n    font-size: 16px;\n    font-weight: 600;\n    color: #409EFF;\n    cursor: pointer;\n    text-decoration: none;\n    display: flex;\n    align-items: center;\n    transition: all 0.3s;\n}\n\n.user-name-text:hover {\n    color: #66b1ff;\n}\n\n.login-btn i {\n    margin-right: 5px;\n}\n\n.user-dropdown {\n    cursor: pointer;\n}\n\n.user-info {\n    display: flex;\n    align-items: center;\n    padding: 0 5px;\n    border-radius: 20px;\n    transition: all 0.3s;\n}\n\n.user-info:hover {\n    background-color: #f5f7fa;\n}\n\n.user-name {\n    font-size: 15px;\n    color: #409EFF;\n    margin-right: 8px;\n}\n\n.user-avatar {\n    border: 2px solid #ebeef5;\n}\n\n.dropdown-menu {\n    min-width: 130px;\n}\n\n.dropdown-item {\n    display: flex;\n    align-items: center;\n    font-size: 14px;\n}\n\n.dropdown-item i {\n    margin-right: 5px;\n}\n\n.logout {\n    color: #f56c6c;\n}\n\n/* 响应式调整 */\n@media (max-width: 992px) {\n    .app-name a {\n        font-size: 18px;\n    }\n    \n    .search-container {\n        max-width: 300px;\n    }\n    \n    .publish-btn, .message-btn {\n        padding: 9px 12px;\n    }\n}\n\n@media (max-width: 768px) {\n    .app-name a span {\n        display: none;\n    }\n    \n    .app-name i {\n        margin-right: 0;\n        font-size: 22px;\n    }\n    \n    .search-container {\n        max-width: 200px;\n    }\n    \n    .publish-btn, .message-btn {\n        padding: 7px 10px;\n        font-size: 12px;\n    }\n    \n    .user-name {\n        font-size: 14px;\n        margin-right: 5px;\n    }\n}\n",{"version":3,"sources":["AppHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"AppHeader.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n    <div class=\"header\">\n        <div class=\"header-container\">\n            <div class=\"app-name\">\n                <router-link to=\"/\">\n                    <i class=\"el-icon-s-shop\"></i>\n                    校园二手闲置物品交易平台\n                </router-link>\n            </div>\n            <div class=\"search-container\">\n                <el-input \n                    placeholder=\"搜索二手物品...\" \n                    v-model=\"searchValue\" \n                    @keyup.enter.native=\"searchIdle\"\n                    prefix-icon=\"el-icon-search\"\n                    clearable>\n                    <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchIdle\">搜索</el-button>\n                </el-input>\n            </div>\n            <div class=\"action-buttons\">\n                <el-button type=\"primary\" icon=\"el-icon-plus\" class=\"publish-btn\" @click=\"toRelease\">发布闲置/公告</el-button>\n                <el-button type=\"info\" icon=\"el-icon-chat-dot-round\" class=\"message-btn\" @click=\"toMessage\">消息</el-button>\n                \n                <router-link v-if=\"!isLogin\" class=\"user-name-text login-btn\" to=\"/login\">\n                    <i class=\"el-icon-user\"></i> 登录\n                </router-link>\n                \n                <el-dropdown trigger=\"click\" v-else class=\"user-dropdown\">\n                    <div class=\"user-info\">\n                        <div class=\"user-name\">{{nicknameValue?nicknameValue:nickname}}</div>\n                        <el-avatar :size=\"32\" :src=\"avatarValue?avatarValue:avatar\" class=\"user-avatar\"></el-avatar>\n                    </div>\n                    <el-dropdown-menu slot=\"dropdown\" class=\"dropdown-menu\">\n                        <el-dropdown-item>\n                            <div @click=\"toMe\" class=\"dropdown-item\">\n                                <i class=\"el-icon-user-solid\"></i> 个人中心\n                            </div>\n                        </el-dropdown-item>\n                        <el-dropdown-item divided>\n                            <div @click=\"loginOut\" class=\"dropdown-item logout\">\n                                <i class=\"el-icon-switch-button\"></i> 退出登录\n                            </div>\n                        </el-dropdown-item>\n                    </el-dropdown-menu>\n                </el-dropdown>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n\n    export default {\n        name: 'Header',\n        props: ['searchInput','nicknameValue','avatarValue'],\n        data() {\n            return {\n                searchValue: this.searchInput,\n                nickname:'登录',\n                avatar:'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png',\n                isLogin:false\n            };\n        },\n        created(){\n            // console.log(\"header\");\n            if(! this.$globalData.userInfo.nickname){\n                this.$api.getUserInfo().then(res=>{\n                    console.log('Header getUserInfo:',res);\n                    if(res.status_code===1){\n                        this.nickname=res.data.nickname;\n                        this.avatar=res.data.avatar;\n                        res.data.signInTime=res.data.signInTime.substring(0,10);\n                        this.$globalData.userInfo=res.data;\n                        this.isLogin=true;\n                    }\n                })\n            }else {\n                this.nickname=this.$globalData.userInfo.nickname;\n                this.avatar=this.$globalData.userInfo.avatar;\n                this.isLogin=true;\n            }\n        },\n        methods: {\n            searchIdle() {\n                if(this.searchValue && this.searchValue.trim() !== '') {\n                    if ('/search' !== this.$route.path) {\n                        this.$router.push({path: '/search', query: {searchValue: this.searchValue}});\n                    } else {\n                        this.$router.replace({path: '/search', query: {searchValue: this.searchValue}});\n                        this.$router.go(0);\n                    }\n                } else {\n                    this.$message.warning('请输入搜索关键词');\n                }\n            },\n            toMe() {\n                if ('/me' !== this.$route.path) {\n                    this.$router.push({path: '/me'});\n                }\n            },\n            toMessage(){\n                if ('/message' !== this.$route.path) {\n                    this.$router.push({path: '/message'});\n                }\n            },\n            toRelease(){\n                if ('/release' !== this.$route.path) {\n                    this.$router.push({path: '/release'});\n                }\n            },\n            loginOut(){\n                this.$api.logout().then(res=>{\n                    if(res.status_code===1){\n                        this.$globalData.userInfo={};\n                        console.log(\"login out\");\n                        this.$message.success('退出登录成功');\n                        if ('/index' === this.$route.path) {\n                            this.$router.go(0);\n                        }else {\n                            this.$router.push({path: '/index'});\n                        }\n                    }else {\n                        this.$message.error('网络或系统异常，退出登录失败！');\n                    }\n                });\n\n            }\n        }\n    };\n</script>\n<style scoped>\n    .header {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        width: 100%;\n        height: 60px;\n        background: #ffffff;\n        display: flex;\n        justify-content: center;\n        border-bottom: 1px solid #ebeef5;\n        box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n        z-index: 1000;\n    }\n\n    .header-container {\n        width: 1200px;\n        max-width: 95%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    .app-name {\n        flex-shrink: 0;\n        margin-right: 15px;\n    }\n\n    .app-name a {\n        color: #409EFF;\n        font-size: 20px;\n        font-weight: 600;\n        text-decoration: none;\n        display: flex;\n        align-items: center;\n        transition: all 0.3s;\n    }\n\n    .app-name a:hover {\n        color: #66b1ff;\n    }\n\n    .app-name i {\n        margin-right: 8px;\n        font-size: 24px;\n    }\n\n    .search-container {\n        flex-grow: 1;\n        max-width: 500px;\n        margin: 0 20px;\n    }\n\n    .action-buttons {\n        display: flex;\n        align-items: center;\n        flex-shrink: 0;\n    }\n\n    .publish-btn, .message-btn {\n        margin-right: 10px;\n        border-radius: 20px;\n    }\n\n    .user-name-text {\n        font-size: 16px;\n        font-weight: 600;\n        color: #409EFF;\n        cursor: pointer;\n        text-decoration: none;\n        display: flex;\n        align-items: center;\n        transition: all 0.3s;\n    }\n\n    .user-name-text:hover {\n        color: #66b1ff;\n    }\n\n    .login-btn i {\n        margin-right: 5px;\n    }\n\n    .user-dropdown {\n        cursor: pointer;\n    }\n\n    .user-info {\n        display: flex;\n        align-items: center;\n        padding: 0 5px;\n        border-radius: 20px;\n        transition: all 0.3s;\n    }\n\n    .user-info:hover {\n        background-color: #f5f7fa;\n    }\n\n    .user-name {\n        font-size: 15px;\n        color: #409EFF;\n        margin-right: 8px;\n    }\n\n    .user-avatar {\n        border: 2px solid #ebeef5;\n    }\n\n    .dropdown-menu {\n        min-width: 130px;\n    }\n\n    .dropdown-item {\n        display: flex;\n        align-items: center;\n        font-size: 14px;\n    }\n\n    .dropdown-item i {\n        margin-right: 5px;\n    }\n\n    .logout {\n        color: #f56c6c;\n    }\n\n    /* 响应式调整 */\n    @media (max-width: 992px) {\n        .app-name a {\n            font-size: 18px;\n        }\n        \n        .search-container {\n            max-width: 300px;\n        }\n        \n        .publish-btn, .message-btn {\n            padding: 9px 12px;\n        }\n    }\n\n    @media (max-width: 768px) {\n        .app-name a span {\n            display: none;\n        }\n        \n        .app-name i {\n            margin-right: 0;\n            font-size: 22px;\n        }\n        \n        .search-container {\n            max-width: 200px;\n        }\n        \n        .publish-btn, .message-btn {\n            padding: 7px 10px;\n            font-size: 12px;\n        }\n        \n        .user-name {\n            font-size: 14px;\n            margin-right: 5px;\n        }\n    }\n</style>\n"]}]}