{"remainingRequest":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\校园二手交易平台\\代码\\frontend\\src\\components\\common\\userList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\src\\components\\common\\userList.vue","mtime":1745552054170},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1678197338000},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1678197338000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"userList\",\n  created: function created() {\n    this.getUserData();\n  },\n  methods: {\n    handleTabClick: function handleTabClick(tab) {\n      this.mode = parseInt(tab.name);\n      this.nowPage = 1;\n\n      if (this.mode === 1) {\n        this.getUserData();\n      } else if (this.mode === 2) {\n        this.getBadUserData();\n      } else {\n        this.getUserManage();\n      }\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.nowPage = val;\n\n      if (this.mode == 1) {\n        this.getUserData();\n      } else if (this.mode == 2) {\n        this.getBadUserData();\n      } else {\n        this.getUserManage();\n      }\n    },\n    handleSelect: function handleSelect(val) {\n      if (this.mode !== val) {\n        this.mode = val;\n\n        if (val == 1) {\n          this.nowPage = 1;\n          this.getUserData();\n        }\n\n        if (val == 2) {\n          this.nowPage = 1;\n          this.getBadUserData();\n        }\n\n        if (val == 3) {\n          this.nowPage = 1;\n          this.getUserManage();\n        }\n      }\n    },\n    confirmSealUser: function confirmSealUser(index) {\n      var _this = this;\n\n      this.$confirm('确定要封禁该用户吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this.sealUser(index);\n      }).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消封禁'\n        });\n      });\n    },\n    confirmUnsealUser: function confirmUnsealUser(index) {\n      var _this2 = this;\n\n      this.$confirm('确定要解除该用户的封禁状态吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this2.unsealUser(index);\n      }).catch(function () {\n        _this2.$message({\n          type: 'info',\n          message: '已取消操作'\n        });\n      });\n    },\n    getUserData: function getUserData() {\n      var _this3 = this;\n\n      //正常普通用户\n      this.tableLoading = true;\n      this.$api.getUserData({\n        page: this.nowPage,\n        nums: 8,\n        status: 0\n      }).then(function (res) {\n        _this3.tableLoading = false;\n\n        if (res.status_code == 1) {\n          _this3.userData = res.data.list;\n          _this3.total = res.data.count;\n        } else {\n          _this3.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        _this3.tableLoading = false;\n        console.log(e);\n      });\n    },\n    getBadUserData: function getBadUserData() {\n      var _this4 = this;\n\n      //违规用户\n      this.tableLoading = true;\n      this.$api.getUserData({\n        page: this.nowPage,\n        nums: 8,\n        status: 1\n      }).then(function (res) {\n        _this4.tableLoading = false;\n\n        if (res.status_code == 1) {\n          _this4.badUserData = res.data.list;\n          _this4.total = res.data.count;\n        } else {\n          _this4.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        _this4.tableLoading = false;\n        console.log(e);\n      });\n    },\n    getUserManage: function getUserManage() {\n      var _this5 = this;\n\n      //管理员\n      this.tableLoading = true;\n      this.$api.getUserManage({\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        _this5.tableLoading = false;\n\n        if (res.status_code == 1) {\n          _this5.userManage = res.data.list;\n          _this5.total = res.data.count;\n        } else {\n          _this5.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        _this5.tableLoading = false;\n        console.log(e);\n      });\n    },\n    sealUser: function sealUser(i) {\n      var _this6 = this;\n\n      this.tableLoading = true;\n      this.$api.updateUserStatus({\n        id: this.userData[i].id,\n        status: 1\n      }).then(function (res) {\n        _this6.tableLoading = false;\n\n        if (res.status_code == 1) {\n          _this6.$message.success('用户已成功封禁');\n\n          _this6.getUserData();\n        } else {\n          _this6.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        _this6.tableLoading = false;\n        console.log(e);\n      });\n    },\n    unsealUser: function unsealUser(i) {\n      var _this7 = this;\n\n      this.tableLoading = true;\n      this.$api.updateUserStatus({\n        id: this.badUserData[i].id,\n        status: 0\n      }).then(function (res) {\n        _this7.tableLoading = false;\n\n        if (res.status_code == 1) {\n          _this7.$message.success('用户已成功解封');\n\n          _this7.getBadUserData();\n        } else {\n          _this7.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        _this7.tableLoading = false;\n        console.log(e);\n      });\n    },\n    regAdmin: function regAdmin() {\n      var _this8 = this;\n\n      if (this.adminPassword == this.adminRePassword) {\n        this.tableLoading = true;\n        this.$api.regAdministrator({\n          adminName: this.adminName,\n          accountNumber: this.adminAccount,\n          adminPassword: this.adminPassword\n        }).then(function (res) {\n          _this8.tableLoading = false;\n\n          if (res.status_code == 1) {\n            _this8.$message.success('管理员添加成功');\n\n            _this8.total = _this8.total + 1;\n            _this8.nowPage = Math.ceil(_this8.total / 8);\n\n            _this8.getUserManage();\n\n            _this8.adminRegVisible = false; // 清空表单\n\n            _this8.adminName = '';\n            _this8.adminAccount = '';\n            _this8.adminPassword = '';\n            _this8.adminRePassword = '';\n          } else {\n            _this8.$message.error(res.msg);\n          }\n        }).catch(function (e) {\n          _this8.tableLoading = false;\n          console.log(e);\n\n          _this8.$message.error(\"添加失败，账号重复或网络异常\");\n        });\n      } else {\n        this.$message.error(\"两次输入的密码不一致\");\n      }\n    },\n    searchIdle: function searchIdle() {\n      var _this9 = this;\n\n      this.tableLoading = true;\n      this.$api.queryUser({\n        searchValue: this.searchValue,\n        mode: this.mode,\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        _this9.tableLoading = false;\n\n        if (res.status_code == 1) {\n          if (_this9.mode == 1) {\n            _this9.userData = res.data.list;\n            _this9.total = res.data.count;\n          } else if (_this9.mode == 2) {\n            _this9.badUserData = res.data.list;\n            _this9.total = res.data.count;\n          } else {\n            _this9.userManage = res.data.list;\n            _this9.total = res.data.count;\n          }\n        } else {\n          _this9.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        _this9.tableLoading = false;\n        console.log(e);\n      });\n    }\n  },\n  data: function data() {\n    return {\n      mode: 1,\n      activeTab: \"1\",\n      nowPage: 1,\n      total: 63,\n      adminRegVisible: false,\n      adminAccount: '',\n      adminPassword: '',\n      adminRePassword: '',\n      adminName: '',\n      adminForm: {},\n      userData: [],\n      badUserData: [],\n      userManage: [],\n      searchValue: '',\n      tableLoading: false\n    };\n  }\n};",{"version":3,"sources":["userList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"main-border\">\n        <div class=\"page-header\">\n            <h2 class=\"page-title\">用户管理</h2>\n            <div v-show=\"mode != 3\" class=\"search-container\">\n                <el-input \n                    placeholder=\"搜索用户账号...\" \n                    v-model=\"searchValue\" \n                    @keyup.enter.native=\"searchIdle\"\n                    prefix-icon=\"el-icon-search\"\n                    clearable\n                    class=\"search-input\">\n                    <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchIdle\">搜索</el-button>\n                </el-input>\n            </div>\n            <div v-show=\"mode == 3\" class=\"admin-actions\">\n                <el-button \n                    type=\"primary\" \n                    icon=\"el-icon-plus\" \n                    size=\"small\" \n                    @click=\"adminRegVisible = true\"\n                    class=\"add-admin-btn\">\n                    添加管理员\n                </el-button>\n            </div>\n        </div>\n\n        <el-tabs v-model=\"activeTab\" @tab-click=\"handleTabClick\" type=\"card\" class=\"custom-tabs\">\n            <el-tab-pane label=\"正常用户\" name=\"1\">\n                <div class=\"table-container\">\n                    <el-table\n                        :data=\"userData\"\n                        stripe\n                        style=\"width: 100%\"\n                        :header-cell-style=\"{ background: '#f5f7fa', color: '#303133', fontWeight: 'bold' }\"\n                        border\n                        v-loading=\"tableLoading\">\n                        <el-table-column label=\"头像\" width=\"80\" align=\"center\">\n                            <template slot-scope=\"scope\">\n                                <el-avatar shape=\"circle\" :size=\"40\" :src=\"scope.row.avatar\">\n                                    <img src=\"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png\"/>\n                                </el-avatar>\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"accountNumber\"\n                            label=\"用户账号\"\n                            show-overflow-tooltip\n                            min-width=\"150\"\n                            width=\"150\">\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"nickname\"\n                            label=\"用户昵称\"\n                            show-overflow-tooltip\n                            min-width=\"150\"\n                            width=\"150\">\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"signInTime\"\n                            label=\"注册时间\"\n                            show-overflow-tooltip\n                            width=\"180\">\n                        </el-table-column>\n                        <el-table-column label=\"操作\" width=\"120\" align=\"center\">\n                            <template slot-scope=\"scope\">\n                                <el-button\n                                    size=\"mini\"\n                                    type=\"danger\"\n                                    icon=\"el-icon-lock\"\n                                    @click=\"confirmSealUser(scope.$index)\"\n                                    round>\n                                    封号\n                                </el-button>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n            </el-tab-pane>\n            \n            <el-tab-pane label=\"违规用户\" name=\"2\">\n                <div class=\"table-container\">\n                    <el-table\n                        :data=\"badUserData\"\n                        stripe\n                        style=\"width: 100%\"\n                        :header-cell-style=\"{ background: '#f5f7fa', color: '#303133', fontWeight: 'bold' }\"\n                        border\n                        v-loading=\"tableLoading\">\n                        <el-table-column label=\"头像\" width=\"80\" align=\"center\">\n                            <template slot-scope=\"scope\">\n                                <el-avatar shape=\"circle\" :size=\"40\" :src=\"scope.row.avatar\">\n                                    <img src=\"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png\"/>\n                                </el-avatar>\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"accountNumber\"\n                            label=\"用户账号\"\n                            show-overflow-tooltip\n                            min-width=\"150\"\n                            width=\"150\">\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"nickname\"\n                            label=\"用户昵称\"\n                            show-overflow-tooltip\n                            width=\"150\">\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"signInTime\"\n                            label=\"注册时间\"\n                            show-overflow-tooltip\n                            width=\"180\">\n                        </el-table-column>\n                        <el-table-column label=\"操作\" width=\"120\" align=\"center\">\n                            <template slot-scope=\"scope\">\n                                <el-button\n                                    size=\"mini\"\n                                    type=\"success\"\n                                    icon=\"el-icon-unlock\"\n                                    @click=\"confirmUnsealUser(scope.$index)\"\n                                    round>\n                                    解封\n                                </el-button>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n            </el-tab-pane>\n            \n            <el-tab-pane label=\"管理员\" name=\"3\">\n                <div class=\"table-container\">\n                    <el-table\n                        :data=\"userManage\"\n                        stripe\n                        style=\"width: 100%\"\n                        :header-cell-style=\"{ background: '#f5f7fa', color: '#303133', fontWeight: 'bold' }\"\n                        border\n                        v-loading=\"tableLoading\">\n                        <el-table-column\n                            prop=\"accountNumber\"\n                            label=\"管理员账号\"\n                            show-overflow-tooltip\n                            width=\"200\">\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"adminName\"\n                            label=\"管理名称\">\n                            <template slot-scope=\"scope\">\n                                <el-tag type=\"primary\" effect=\"plain\">{{ scope.row.adminName }}</el-tag>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n            </el-tab-pane>\n        </el-tabs>\n\n        <div class=\"pagination-container\">\n            <el-pagination\n                @current-change=\"handleCurrentChange\"\n                :current-page.sync=\"nowPage\"\n                :page-size=\"8\"\n                background\n                layout=\"total, prev, pager, next, jumper\"\n                :total=\"total\">\n            </el-pagination>\n        </div>\n\n        <!-- 添加管理员对话框 -->\n        <el-dialog\n            title=\"添加管理员\"\n            :visible.sync=\"adminRegVisible\"\n            width=\"400px\"\n            center\n            class=\"admin-dialog\">\n            <div class=\"admin-form\">\n                <el-form :model=\"adminForm\" label-position=\"top\">\n                    <el-form-item label=\"管理员名称\">\n                        <el-input \n                            v-model=\"adminName\" \n                            maxlength=\"8\" \n                            placeholder=\"请输入管理员名称\" \n                            prefix-icon=\"el-icon-user\"\n                            clearable>\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item label=\"管理员账户\">\n                        <el-input \n                            v-model=\"adminAccount\" \n                            minlength=\"8\" \n                            maxlength=\"10\" \n                            placeholder=\"请输入管理员账户\" \n                            prefix-icon=\"el-icon-s-custom\"\n                            clearable>\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item label=\"管理员密码\">\n                        <el-input \n                            v-model=\"adminPassword\" \n                            minlength=\"8\" \n                            placeholder=\"请输入管理员密码\" \n                            prefix-icon=\"el-icon-lock\"\n                            show-password>\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item label=\"确认密码\">\n                        <el-input \n                            v-model=\"adminRePassword\" \n                            minlength=\"8\" \n                            placeholder=\"请再次输入管理员密码\" \n                            prefix-icon=\"el-icon-key\"\n                            show-password>\n                        </el-input>\n                    </el-form-item>\n                </el-form>\n            </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"adminRegVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"regAdmin\">添 加</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"userList\",\n        created() {\n            this.getUserData();\n        },\n        methods: {\n            handleTabClick(tab) {\n                this.mode = parseInt(tab.name);\n                this.nowPage = 1;\n                \n                if (this.mode === 1) {\n                    this.getUserData();\n                } else if (this.mode === 2) {\n                    this.getBadUserData();\n                } else {\n                    this.getUserManage();\n                }\n            },\n            handleCurrentChange(val) {\n                this.nowPage = val;\n                if(this.mode == 1){\n                    this.getUserData();\n                } else if(this.mode == 2){\n                    this.getBadUserData();\n                } else {\n                    this.getUserManage();\n                }\n            },\n            handleSelect(val){\n                if(this.mode !== val){\n                    this.mode = val\n                    if(val == 1){\n                        this.nowPage = 1;\n                        this.getUserData();\n                    }\n                    if(val == 2){\n                        this.nowPage = 1;\n                        this.getBadUserData();\n                    }\n                    if(val == 3){\n                        this.nowPage = 1;\n                        this.getUserManage();\n                    }\n                }\n            },\n            confirmSealUser(index) {\n                this.$confirm('确定要封禁该用户吗？', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.sealUser(index);\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消封禁'\n                    });          \n                });\n            },\n            confirmUnsealUser(index) {\n                this.$confirm('确定要解除该用户的封禁状态吗？', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.unsealUser(index);\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消操作'\n                    });          \n                });\n            },\n            getUserData(){\n                //正常普通用户\n                this.tableLoading = true;\n                this.$api.getUserData({\n                    page: this.nowPage,\n                    nums:8,\n                    status:0\n                }).then(res => {\n                    this.tableLoading = false;\n                    if(res.status_code==1){\n                        this.userData = res.data.list;\n                        this.total = res.data.count;\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    this.tableLoading = false;\n                    console.log(e)\n                })\n            },\n            getBadUserData(){\n                //违规用户\n                this.tableLoading = true;\n                this.$api.getUserData({\n                    page: this.nowPage,\n                    nums:8,\n                    status:1\n                }).then(res => {\n                    this.tableLoading = false;\n                    if(res.status_code==1){\n                        this.badUserData = res.data.list;\n                        this.total = res.data.count;\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    this.tableLoading = false;\n                    console.log(e)\n                });\n            },\n            getUserManage(){\n                //管理员\n                this.tableLoading = true;\n                this.$api.getUserManage({\n                    page: this.nowPage,\n                    nums:8,\n                }).then(res => {\n                    this.tableLoading = false;\n                    if(res.status_code==1){\n                        this.userManage = res.data.list;\n                        this.total = res.data.count;\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    this.tableLoading = false;\n                    console.log(e)\n                })\n            },\n            sealUser(i){\n                this.tableLoading = true;\n                this.$api.updateUserStatus({\n                    id: this.userData[i].id,\n                    status:1\n                }).then(res => {\n                    this.tableLoading = false;\n                    if(res.status_code==1){\n                        this.$message.success('用户已成功封禁');\n                        this.getUserData();\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    this.tableLoading = false;\n                    console.log(e)\n                })\n            },\n            unsealUser(i){\n                this.tableLoading = true;\n                this.$api.updateUserStatus({\n                    id: this.badUserData[i].id,\n                    status:0\n                }).then(res => {\n                    this.tableLoading = false;\n                    if(res.status_code==1){\n                        this.$message.success('用户已成功解封');\n                        this.getBadUserData();\n                    }else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    this.tableLoading = false;\n                    console.log(e)\n                })\n            },\n            regAdmin(){\n                if(this.adminPassword == this.adminRePassword){\n                    this.tableLoading = true;\n                    this.$api.regAdministrator({\n                        adminName: this.adminName,\n                        accountNumber: this.adminAccount,\n                        adminPassword: this.adminPassword,\n                    }).then(res => {\n                        this.tableLoading = false;\n                        if(res.status_code==1){\n                            this.$message.success('管理员添加成功');\n                            this.total = this.total+1;\n                            this.nowPage= Math.ceil(this.total/8);\n                            this.getUserManage();\n                            this.adminRegVisible = false;\n                            // 清空表单\n                            this.adminName = '';\n                            this.adminAccount = '';\n                            this.adminPassword = '';\n                            this.adminRePassword = '';\n                        }else {\n                            this.$message.error(res.msg)\n                        }\n                    }).catch(e => {\n                        this.tableLoading = false;\n                        console.log(e);\n                        this.$message.error(\"添加失败，账号重复或网络异常\")\n                    });\n                }\n                else {\n                    this.$message.error(\"两次输入的密码不一致\");\n                }\n            },\n            searchIdle() {\n                this.tableLoading = true;\n                this.$api.queryUser({\n                    searchValue: this.searchValue,\n                    mode: this.mode,\n                    page: this.nowPage,\n                    nums: 8,\n                }).then(res => {\n                    this.tableLoading = false;\n                    if (res.status_code == 1) {\n                        if(this.mode == 1){\n                            this.userData = res.data.list;\n                            this.total = res.data.count;\n                        }else if(this.mode == 2){\n                            this.badUserData = res.data.list;\n                            this.total = res.data.count;\n                        }else {\n                            this.userManage = res.data.list;\n                            this.total = res.data.count;\n                        }\n                    } else{\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    this.tableLoading = false;\n                    console.log(e)\n                })\n            }\n        },\n        data(){\n            return {\n                mode: 1,\n                activeTab: \"1\",\n                nowPage: 1,\n                total: 63,\n                adminRegVisible: false,\n                adminAccount: '',\n                adminPassword: '',\n                adminRePassword: '',\n                adminName: '',\n                adminForm: {},\n                userData: [],\n                badUserData: [],\n                userManage: [],\n                searchValue: '',\n                tableLoading: false\n            }\n        },\n    }\n</script>\n\n<style scoped>\n    .main-border {\n        background-color: #fff;\n        margin: 20px;\n        padding: 25px;\n        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.08);\n        border-radius: 10px;\n        height: calc(100% - 40px);\n        display: flex;\n        flex-direction: column;\n    }\n\n    .page-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 25px;\n        border-bottom: 1px solid #ebeef5;\n        padding-bottom: 15px;\n    }\n\n    .page-title {\n        font-size: 20px;\n        font-weight: 600;\n        color: #303133;\n        margin: 0;\n    }\n\n    .search-container, .admin-actions {\n        width: 350px;\n        display: flex;\n        justify-content: flex-end;\n    }\n\n    .search-input {\n        width: 100%;\n    }\n\n    .search-input >>> .el-input__inner {\n        border-radius: 20px 0 0 20px;\n        border-right: none;\n    }\n\n    .search-input >>> .el-input-group__append {\n        border-radius: 0 20px 20px 0;\n        background-color: #409EFF;\n        border-color: #409EFF;\n        color: white;\n    }\n\n    .search-input >>> .el-input-group__append .el-button {\n        color: white;\n        border: none;\n    }\n\n    .add-admin-btn {\n        border-radius: 20px;\n        padding: 10px 20px;\n    }\n\n    .custom-tabs >>> .el-tabs__header {\n        margin-bottom: 20px;\n    }\n\n    .custom-tabs >>> .el-tabs__item {\n        font-size: 15px;\n        padding: 0 25px;\n        height: 40px;\n        line-height: 40px;\n    }\n\n    .custom-tabs >>> .el-tabs__item.is-active {\n        color: #409EFF;\n        font-weight: bold;\n    }\n\n    .table-container {\n        margin-bottom: 20px;\n        flex: 1;\n    }\n\n    .el-table {\n        border-radius: 6px;\n        overflow: hidden;\n    }\n\n    .pagination-container {\n        margin-top: 20px;\n        display: flex;\n        justify-content: center;\n    }\n\n    .el-button--danger {\n        background-color: #ff6b6b;\n        border-color: #ff6b6b;\n    }\n\n    .el-button--danger:hover, .el-button--danger:focus {\n        background-color: #ff8c8c;\n        border-color: #ff8c8c;\n    }\n\n    .el-button--success {\n        background-color: #67c23a;\n        border-color: #67c23a;\n    }\n\n    .el-button--success:hover, .el-button--success:focus {\n        background-color: #85ce61;\n        border-color: #85ce61;\n    }\n\n    /* 管理员对话框样式 */\n    .admin-dialog >>> .el-dialog__header {\n        background-color: #f5f7fa;\n        padding: 15px 20px;\n        border-bottom: 1px solid #ebeef5;\n        border-radius: 10px 10px 0 0;\n    }\n\n    .admin-dialog >>> .el-dialog__title {\n        font-size: 18px;\n        font-weight: 600;\n        color: #303133;\n    }\n\n    .admin-dialog >>> .el-dialog__body {\n        padding: 20px 25px;\n    }\n\n    .admin-form .el-form-item {\n        margin-bottom: 20px;\n    }\n\n    .admin-form .el-input {\n        width: 100%;\n    }\n\n    /* 加载状态样式 */\n    .el-loading-mask {\n        background-color: rgba(255, 255, 255, 0.8);\n    }\n\n    /* 响应式调整 */\n    @media screen and (max-width: 768px) {\n        .page-header {\n            flex-direction: column;\n            align-items: flex-start;\n        }\n\n        .search-container, .admin-actions {\n            width: 100%;\n            margin-top: 15px;\n        }\n\n        .main-border {\n            padding: 15px;\n            margin: 10px;\n        }\n    }\n</style>"],"sourceRoot":"src/components/common"}]}