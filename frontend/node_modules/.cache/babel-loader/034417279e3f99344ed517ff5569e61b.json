{"remainingRequest":"C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\src\\components\\common\\IdleGoods.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\src\\components\\common\\IdleGoods.vue","mtime":1678197338000},{"path":"C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1678197338000},{"path":"C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"C:\\Users\\坤\\Desktop\\校园二手交易平台\\校园二手交易平台\\代码\\前端\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1678197338000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"IdleGoods\",\n  data: function data() {\n    return {\n      mode: 1,\n      nowPage: 1,\n      total: 0,\n      onlineGoods: [],\n      OfflineGoods: [],\n      findValue: '',\n      status: 1\n    };\n  },\n  created: function created() {\n    this.getOnlineGoods();\n  },\n  methods: {\n    searchIdle: function searchIdle() {\n      var _this = this;\n\n      this.$api.queryIdle({\n        findValue: this.findValue,\n        page: this.nowPage,\n        nums: 8,\n        status: this.status\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.status_code == 1 && res.data.list != null) {\n          if (res.data.list[0].idleStatus == 1) {\n            _this.onlineGoods = res.data.list;\n            _this.total = res.data.count;\n          } else {\n            _this.OfflineGoods = res.data.list;\n            _this.total = res.data.count;\n          }\n        } else {\n          _this.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.nowPage = val;\n\n      if (this.mode == 1) {\n        this.getOnlineGoods();\n      }\n\n      if (this.mode == 2) {\n        this.getOfflineGoods();\n      }\n    },\n    handleSelect: function handleSelect(val) {\n      if (this.mode !== val) {\n        this.mode = val;\n\n        if (val == 1) {\n          this.nowPage = 1;\n          this.getOnlineGoods();\n        }\n\n        if (val == 2) {\n          this.nowPage = 1;\n          this.getOfflineGoods();\n        }\n      }\n    },\n    makeOfflineGoods: function makeOfflineGoods(i) {\n      var _this2 = this;\n\n      this.$api.updateGoods({\n        id: this.onlineGoods[i].id,\n        status: 2\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this2.getOnlineGoods();\n        } else {\n          _this2.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    deleteGoods: function deleteGoods(i) {\n      var _this3 = this;\n\n      this.$api.updateGoods({\n        id: this.OfflineGoods[i].id,\n        status: 0\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this3.getOfflineGoods();\n        } else {\n          _this3.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    getOnlineGoods: function getOnlineGoods() {\n      var _this4 = this;\n\n      this.$api.getGoods({\n        status: 1,\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this4.onlineGoods = res.data.list;\n          _this4.total = res.data.count;\n        } else {\n          _this4.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    getOfflineGoods: function getOfflineGoods() {\n      var _this5 = this;\n\n      this.$api.getGoods({\n        status: 2,\n        page: this.nowPage,\n        nums: 8\n      }).then(function (res) {\n        if (res.status_code == 1) {\n          _this5.OfflineGoods = res.data.list;\n          _this5.total = res.data.count;\n        } else {\n          _this5.$message.error(res.msg);\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  }\n};",{"version":3,"sources":["IdleGoods.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"main-border\">\n\t\t<el-menu default-active=\"1\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\">\n        <span class=\"app-title\">\n\t\t\t\t\t\t<el-input placeholder=\"闲置名称...\" v-model=\"findValue\" @keyup.enter.native=\"searchIdle\">\n\t\t\t\t\t\t\t<el-button slot=\"append\" icon=\"el-icon-search\" @click=\"searchIdle\"></el-button>\n\t\t\t\t\t\t</el-input>\n\t\t\t\t</span>\n\t\t\t<el-menu-item @click=\"status=1\" index=\"1\">上线的闲置</el-menu-item>\n\t\t\t<el-menu-item @click=\"status =2\" index=\"2\">下架的闲置</el-menu-item>\n\t\t</el-menu>\n\t\t<el-table v-if=\"this.mode == 1\"\n\t\t\t\t\t\t\t:data=\"onlineGoods\"\n\t\t\t\t\t\t\tstripe\n\t\t\t\t\t\t\tstyle=\"width: 100%;color: #5a5c61;\">\n\t\t\t<el-table-column\n\t\t\t\tprop=\"releaseTime\"\n\t\t\t\tlabel=\"发布日期\"\n\t\t\t\twidth=\"200\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\tprop=\"idleName\"\n\t\t\t\tlabel=\"闲置名称\"\n\t\t\t\tshow-overflow-tooltip\n\t\t\t>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\tprop=\"user.nickname\"\n\t\t\t\tlabel=\"发布用户\"\n\t\t\t\tshow-overflow-tooltip\n\t\t\t\tmin-width=\"100\"\n\t\t\t\twidth=\"100\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\tprop=\"idlePrice\"\n\t\t\t\tlabel=\"价格\"\n\t\t\t\tshow-overflow-tooltip\n\t\t\t\tmin-width=\"100\"\n\t\t\t\twidth=\"100\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t@click=\"makeOfflineGoods(scope.$index)\">违规下架\n\t\t\t\t\t</el-button>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\n\t\t<el-table v-show=\"this.mode == 2\"\n\t\t\t\t\t\t\t:data=\"OfflineGoods\"\n\t\t\t\t\t\t\tstripe\n\t\t\t\t\t\t\tstyle=\"width: 100%;color: #5a5c61;\">\n\t\t\t<el-table-column\n\t\t\t\tprop=\"releaseTime\"\n\t\t\t\tlabel=\"发布日期\"\n\t\t\t\twidth=\"200\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\tprop=\"idleName\"\n\t\t\t\tlabel=\"闲置名称\"\n\t\t\t\tshow-overflow-tooltip\n\t\t\t>\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\tprop=\"user.nickname\"\n\t\t\t\tlabel=\"发布用户\"\n\t\t\t\tshow-overflow-tooltip\n\t\t\t\tmin-width=\"100\"\n\t\t\t\twidth=\"100\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t\tprop=\"idlePrice\"\n\t\t\t\tlabel=\"价格\"\n\t\t\t\tshow-overflow-tooltip\n\t\t\t\tmin-width=\"100\"\n\t\t\t\twidth=\"100\">\n\t\t\t</el-table-column>\n\t\t\t<el-table-column label=\"操作\">\n\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t<el-button\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\t@click=\"deleteGoods(scope.$index)\">永久删除\n\t\t\t\t\t</el-button>\n\t\t\t\t</template>\n\t\t\t</el-table-column>\n\t\t</el-table>\n\t\t<div class=\"block\">\n\t\t\t<el-pagination\n\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\t:current-page.sync=\"nowPage\"\n\t\t\t\t:page-size=\"8\"\n\t\t\t\tbackground\n\t\t\t\tlayout=\"prev, pager, next,jumper\"\n\t\t\t\t:total=\"total\">\n\t\t\t</el-pagination>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n    export default {\n        name: \"IdleGoods\",\n        data() {\n            return {\n                mode: 1,\n                nowPage: 1,\n                total: 0,\n                onlineGoods: [],\n                OfflineGoods: [],\n                findValue: '',\n\t\t\t\t\t\t\t\tstatus: 1\n            }\n        },\n        created() {\n            this.getOnlineGoods();\n        },\n        methods: {\n            searchIdle(){\n                this.$api.queryIdle({\n                    findValue: this.findValue,\n                    page: this.nowPage,\n                    nums: 8,\n\t\t\t\t\t\t\t\t\t\tstatus: this.status\n                }).then(res => {\n                    console.log(res);\n                    if (res.status_code == 1 && res.data.list != null) {\n                            if(res.data.list[0].idleStatus == 1){\n                                this.onlineGoods = res.data.list;\n                                this.total = res.data.count;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else {\n                                this.OfflineGoods = res.data.list;\n                                this.total = res.data.count;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n                    } else{\n                        this.$message.error(res.msg)\n\t\t\t\t\t\t\t\t\t\t}\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            handleCurrentChange(val) {\n                this.nowPage = val;\n                if (this.mode == 1) {\n                    this.getOnlineGoods();\n                }\n                if (this.mode == 2) {\n                    this.getOfflineGoods();\n                }\n            },\n            handleSelect(val) {\n                if (this.mode !== val) {\n                    this.mode = val;\n                    if (val == 1) {\n                        this.nowPage = 1;\n                        this.getOnlineGoods();\n                    }\n                    if (val == 2) {\n                        this.nowPage = 1;\n                        this.getOfflineGoods();\n                    }\n                }\n            },\n            makeOfflineGoods(i) {\n                this.$api.updateGoods({\n                    id: this.onlineGoods[i].id,\n                    status: 2\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.getOnlineGoods();\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            deleteGoods(i) {\n                this.$api.updateGoods({\n                    id: this.OfflineGoods[i].id,\n                    status: 0\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.getOfflineGoods();\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            getOnlineGoods() {\n                this.$api.getGoods({\n                    status: 1,\n                    page: this.nowPage,\n                    nums: 8\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.onlineGoods = res.data.list;\n                        this.total = res.data.count;\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            getOfflineGoods() {\n                this.$api.getGoods({\n                    status: 2,\n                    page: this.nowPage,\n                    nums: 8\n                }).then(res => {\n                    if (res.status_code == 1) {\n                        this.OfflineGoods = res.data.list;\n                        this.total = res.data.count;\n                    } else {\n                        this.$message.error(res.msg)\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            }\n        }\n\n    }\n</script>\n\n<style scoped>\n\t.main-border {\n\t\tbackground-color: #FFF;\n\t\tpadding: 10px 30px;\n\t\tbox-shadow: 0 1px 15px -6px rgba(0, 0, 0, .5);\n\t\tborder-radius: 5px;\n\t}\n\n\t.block {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tpadding-top: 15px;\n\t\tpadding-bottom: 10px;\n\t\twidth: 100%;\n\t}\n</style>"],"sourceRoot":"src/components/common"}]}