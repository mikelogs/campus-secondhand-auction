{"remainingRequest":"C:\\Users\\86156\\Desktop\\ershou\\second-hand-master\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86156\\Desktop\\ershou\\second-hand-master\\frontend\\src\\main.js","dependencies":[{"path":"C:\\Users\\86156\\Desktop\\ershou\\second-hand-master\\frontend\\src\\main.js","mtime":1678197338000},{"path":"C:\\Users\\86156\\Desktop\\ershou\\second-hand-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"C:\\Users\\86156\\Desktop\\ershou\\second-hand-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1678197338000}],"contextDependencies":[],"result":["import \"C:\\\\Users\\\\86156\\\\Desktop\\\\ershou\\\\second-hand-master\\\\frontend\\\\node_modules\\\\core-js\\\\modules\\\\es6.array.iterator.js\";\nimport \"C:\\\\Users\\\\86156\\\\Desktop\\\\ershou\\\\second-hand-master\\\\frontend\\\\node_modules\\\\core-js\\\\modules\\\\es6.promise.js\";\nimport \"C:\\\\Users\\\\86156\\\\Desktop\\\\ershou\\\\second-hand-master\\\\frontend\\\\node_modules\\\\core-js\\\\modules\\\\es6.object.assign.js\";\nimport \"C:\\\\Users\\\\86156\\\\Desktop\\\\ershou\\\\second-hand-master\\\\frontend\\\\node_modules\\\\core-js\\\\modules\\\\es7.promise.finally.js\";\nimport Vue from 'vue';\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport 'babel-polyfill';\n/*\n* Vue.prototype.$axios = axios;\n\n给Vue函数添加一个原型属性$axios 指向Axios\n\n这样做的好处是在vue实例或组件中不用再去重复引用Axios\n直接用this.$axios就能执行axios 方法了\n*\n* */\n\nimport api from \"./api/index.js\";\nVue.prototype.$api = api;\nvar globalData = {\n  userInfo: {\n    nickname: ''\n  }\n};\nvar sta = {\n  isLogin: false,\n  adminName: ''\n};\nVue.prototype.$sta = sta;\nVue.prototype.$globalData = globalData;\n/* 让它少提示一个错误信息 */\n\nVue.config.productionTip = false;\nVue.use(ElementUI, {\n  size: 'medium'\n});\nrouter.beforeEach(function (to, from, next) {\n  document.title = \"\".concat(to.meta.title); // console.log(to.path,'userInfo:',Vue.prototype.$globalData.userInfo);\n\n  var nickname = Vue.prototype.$globalData.userInfo.nickname;\n\n  if (!nickname && (to.path === '/me' || to.path === '/message' || to.path === '/release' || to.path === '/order')) {\n    api.getUserInfo().then(function (res) {\n      console.log('getUserInfo:', res);\n\n      if (res.status_code !== 1) {\n        next('/login');\n      } else {\n        res.data.signInTime = res.data.signInTime.substring(0, 10);\n        Vue.prototype.$globalData.userInfo = res.data;\n        next();\n      }\n    }).catch(function (e) {\n      next('/login');\n    });\n  } else {\n    next();\n  }\n});\nnew Vue({\n  router: router,\n  render: function render(h) {\n    return h(App);\n  }\n}).$mount('#app');",{"version":3,"sources":["C:/Users/86156/Desktop/ershou/second-hand-master/frontend/src/main.js"],"names":["Vue","App","router","ElementUI","api","prototype","$api","globalData","userInfo","nickname","sta","isLogin","adminName","$sta","$globalData","config","productionTip","use","size","beforeEach","to","from","next","document","title","meta","path","getUserInfo","then","res","console","log","status_code","data","signInTime","substring","catch","e","render","h","$mount"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP;AACA,OAAOC,MAAP;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,sCAAP;AACA,OAAO,gBAAP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOC,GAAP;AACAJ,GAAG,CAACK,SAAJ,CAAcC,IAAd,GAAqBF,GAArB;AAEA,IAAIG,UAAU,GAAC;AACXC,EAAAA,QAAQ,EAAC;AACLC,IAAAA,QAAQ,EAAC;AADJ;AADE,CAAf;AAKA,IAAIC,GAAG,GAAC;AACJC,EAAAA,OAAO,EAAC,KADJ;AAEJC,EAAAA,SAAS,EAAC;AAFN,CAAR;AAIAZ,GAAG,CAACK,SAAJ,CAAcQ,IAAd,GAAqBH,GAArB;AAEAV,GAAG,CAACK,SAAJ,CAAcS,WAAd,GAA0BP,UAA1B;AAGA;;AACAP,GAAG,CAACe,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEAhB,GAAG,CAACiB,GAAJ,CAAQd,SAAR,EAAmB;AACfe,EAAAA,IAAI,EAAE;AADS,CAAnB;AAKAhB,MAAM,CAACiB,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCC,EAAAA,QAAQ,CAACC,KAAT,aAAoBJ,EAAE,CAACK,IAAH,CAAQD,KAA5B,EADkC,CAElC;;AACA,MAAMf,QAAQ,GAAGT,GAAG,CAACK,SAAJ,CAAcS,WAAd,CAA0BN,QAA1B,CAAmCC,QAApD;;AACA,MAAI,CAACA,QAAD,KACGW,EAAE,CAACM,IAAH,KAAY,KAAZ,IACAN,EAAE,CAACM,IAAH,KAAY,UADZ,IAEAN,EAAE,CAACM,IAAH,KAAY,UAFZ,IAGAN,EAAE,CAACM,IAAH,KAAY,QAJf,CAAJ,EAI8B;AAC1BtB,IAAAA,GAAG,CAACuB,WAAJ,GAAkBC,IAAlB,CAAuB,UAAAC,GAAG,EAAE;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2BF,GAA3B;;AACA,UAAGA,GAAG,CAACG,WAAJ,KAAkB,CAArB,EAAuB;AACnBV,QAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,OAFD,MAEM;AACFO,QAAAA,GAAG,CAACI,IAAJ,CAASC,UAAT,GAAoBL,GAAG,CAACI,IAAJ,CAASC,UAAT,CAAoBC,SAApB,CAA8B,CAA9B,EAAgC,EAAhC,CAApB;AACAnC,QAAAA,GAAG,CAACK,SAAJ,CAAcS,WAAd,CAA0BN,QAA1B,GAAmCqB,GAAG,CAACI,IAAvC;AACAX,QAAAA,IAAI;AACP;AACH,KATD,EASGc,KATH,CASS,UAAAC,CAAC,EAAE;AACRf,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,KAXD;AAaH,GAlBD,MAkBK;AACDA,IAAAA,IAAI;AACP;AACJ,CAzBD;AA2BA,IAAItB,GAAJ,CAAQ;AACJE,EAAAA,MAAM,EAANA,MADI;AAEJoC,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACtC,GAAD,CAAL;AAAA;AAFL,CAAR,EAGGuC,MAHH,CAGU,MAHV","sourcesContent":["import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport 'babel-polyfill';\n\n/*\n* Vue.prototype.$axios = axios;\n\n给Vue函数添加一个原型属性$axios 指向Axios\n\n这样做的好处是在vue实例或组件中不用再去重复引用Axios\n直接用this.$axios就能执行axios 方法了\n*\n* */\n\nimport api from './api/index.js';\nVue.prototype.$api = api;\n\nlet globalData={\n    userInfo:{\n        nickname:''\n    }\n};\nlet sta={\n    isLogin:false,\n    adminName:''\n};\nVue.prototype.$sta = sta;\n\nVue.prototype.$globalData=globalData;\n\n\n/* 让它少提示一个错误信息 */\nVue.config.productionTip = false;\n\nVue.use(ElementUI, {\n    size: 'medium'\n});\n\n\nrouter.beforeEach((to, from, next) => {\n    document.title = `${to.meta.title}`;\n    // console.log(to.path,'userInfo:',Vue.prototype.$globalData.userInfo);\n    const nickname = Vue.prototype.$globalData.userInfo.nickname;\n    if (!nickname\n        &&(to.path === '/me'\n        || to.path === '/message'\n        || to.path === '/release'\n        || to.path === '/order')) {\n        api.getUserInfo().then(res=>{\n           console.log('getUserInfo:',res);\n           if(res.status_code!==1){\n               next('/login');\n           }else {\n               res.data.signInTime=res.data.signInTime.substring(0,10);\n               Vue.prototype.$globalData.userInfo=res.data;\n               next();\n           }\n        }).catch(e=>{\n            next('/login');\n        });\n\n    }else{\n        next();\n    }\n});\n\nnew Vue({\n    router,\n    render: h => h(App)\n}).$mount('#app');\n"]}]}