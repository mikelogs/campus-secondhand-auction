{"remainingRequest":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\src\\components\\page\\release.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\src\\components\\page\\release.vue","mtime":1647746968243},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645787918793},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\babel-loader\\lib\\index.js","mtime":1645787919664},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645787918793},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\vue-loader\\lib\\index.js","mtime":1645787910416}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AppHead from \"../common/AppHeader.vue\";\nimport AppBody from \"../common/AppPageBody.vue\";\nimport AppFoot from \"../common/AppFoot.vue\";\nimport options from \"../common/country-data.js\";\nexport default {\n  name: \"release\",\n  components: {\n    AppHead: AppHead,\n    AppBody: AppBody,\n    AppFoot: AppFoot\n  },\n  data: function data() {\n    return {\n      imgDialogVisible: false,\n      dialogImageUrl: '',\n      showFileList: true,\n      options: options,\n      selectedOptions: [],\n      options2: [{\n        value: 1,\n        label: '数码科技'\n      }, {\n        value: 2,\n        label: '生活用品'\n      }, {\n        value: 3,\n        label: '运动相关'\n      }, {\n        value: 4,\n        label: '图书笔记'\n      }, {\n        value: 5,\n        label: '公告展示'\n      }],\n      imgList: [],\n      idleItemInfo: {\n        idleName: '',\n        idleDetails: '',\n        pictureList: '',\n        idlePrice: 0,\n        idlePlace: '',\n        idleLabel: ''\n      }\n    };\n  },\n  methods: {\n    handleChange: function handleChange(value) {\n      console.log(value);\n      this.idleItemInfo.idlePlace = value[1];\n    },\n    fileHandleRemove: function fileHandleRemove(file, fileList) {\n      console.log(file, fileList);\n\n      for (var i = 0; i < this.imgList.length; i++) {\n        if (this.imgList[i] === file.response.data) {\n          this.imgList.splice(i, 1);\n        }\n      }\n    },\n    fileHandlePreview: function fileHandlePreview(file) {\n      console.log(file);\n      this.dialogImageUrl = file.response.data;\n      this.imgDialogVisible = true;\n    },\n    fileHandleSuccess: function fileHandleSuccess(response, file, fileList) {\n      console.log(\"file:\", response, file, fileList);\n      this.imgList.push(response.data);\n    },\n    releaseButton: function releaseButton() {\n      var _this = this;\n\n      this.idleItemInfo.pictureList = JSON.stringify(this.imgList);\n      console.log(this.idleItemInfo);\n\n      if (this.idleItemInfo.idleName && this.idleItemInfo.idleDetails && this.idleItemInfo.idlePlace && this.idleItemInfo.idleLabel && (this.idleItemInfo.idlePrice || this.idleItemInfo.idleLabel === 5)) {\n        this.$api.addIdleItem(this.idleItemInfo).then(function (res) {\n          if (res.status_code === 1) {\n            _this.$message({\n              message: '发布成功！',\n              type: 'success'\n            });\n\n            console.log(res.data);\n\n            _this.$router.replace({\n              path: '/details',\n              query: {\n                id: res.data.id\n              }\n            });\n          } else {\n            _this.$message.error('发布失败！' + res.msg);\n          }\n        }).catch(function (e) {\n          _this.$message.error('请填写完整信息');\n        });\n      } else {\n        this.$message.error('请填写完整信息！');\n      }\n    },\n    handleExceed: function handleExceed(files, fileList) {\n      this.$message.warning(\"\\u9650\\u523610\\u5F20\\u56FE\\u7247\\uFF0C\\u672C\\u6B21\\u9009\\u62E9\\u4E86 \".concat(files.length, \" \\u5F20\\u56FE\\uFF0C\\u5171\\u9009\\u62E9\\u4E86 \").concat(files.length + fileList.length, \" \\u5F20\\u56FE\"));\n    },\n    isNotice: function isNotice() {}\n  }\n};",{"version":3,"sources":["release.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <app-head></app-head>\n        <app-body>\n            <div class=\"release-idle-container\">\n                <div class=\"release-idle-container-title\">发布闲置/公告</div>\n                <div class=\"release-idle-container-form\">\n                    <el-input placeholder=\"请输入闲置/公告标题\" v-model=\"idleItemInfo.idleName\"\n                              maxlength=\"30\"\n                              show-word-limit>\n                    </el-input>\n                    <el-input\n                            class=\"release-idle-detiles-text\"\n                            type=\"textarea\"\n                            autosize\n                            placeholder=\"请输入闲置/公告的详细介绍...\"\n                            v-model=\"idleItemInfo.idleDetails\"\n                            maxlength=\"1000\"\n                            show-word-limit>\n                    </el-input>\n                    <div class=\"release-idle-place\">\n                        <div class=\"release-tip\">您的位置</div>\n                        <el-cascader\n                                :options=\"options\"\n                                v-model=\"selectedOptions\"\n                                @change=\"handleChange\"\n                                :separator=\"' '\"\n                                style=\"width: 90%;\"\n                        >\n                        </el-cascader>\n                    </div>\n                    <div style=\"display: flex; justify-content: space-between;\">\n                        <div>\n                            <div class=\"release-tip\">闲置类别</div>\n                            <el-select  v-model=\"idleItemInfo.idleLabel\" placeholder=\"请选择类别\">\n                                <el-option\n                                        v-for=\"item in options2\"\n                                        :key=\"item.value\"\n                                        :label=\"item.label\"\n                                        :value=\"item.value\">\n                                </el-option>\n                            </el-select>\n                        </div>\n                        <div v-show=\"idleItemInfo.idleLabel !== 5\" style=\"width: 300px;\">\n                            <el-input-number v-model=\"idleItemInfo.idlePrice\" :precision=\"2\" :step=\"10\" :max=\"10000000\">\n                                <div slot=\"prepend\">价格</div>\n                            </el-input-number>\n                        </div>\n\n                    </div>\n                    <div class=\"release-idle-container-picture\">\n                        <div class=\"release-idle-container-picture-title\">上传闲置照片</div>\n                        <el-upload\n                                action=\"http://localhost:8080/file/\"\n                                :on-preview=\"fileHandlePreview\"\n                                :on-remove=\"fileHandleRemove\"\n                                :on-success=\"fileHandleSuccess\"\n                                :show-file-list=\"showFileList\"\n                                :limit=\"10\"\n                                :on-exceed=\"handleExceed\"\n                                accept=\"image/*\"\n                                drag\n                                multiple>\n                            <i class=\"el-icon-upload\"></i>\n                            <div class=\"el-upload__text\">将图片拖到此处，或<em>点击上传</em></div>\n                        </el-upload>\n                        <div class=\"picture-list\">\n                            <el-image style=\"width: 600px;margin-bottom: 2px;\" fit=\"contain\"\n                                      v-for=\"(img,index) in imgList\" :src=\"img\"\n                                      :preview-src-list=\"imgList\"></el-image>\n                        </div>\n                        <el-dialog :visible.sync=\"imgDialogVisible\">\n                            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n                        </el-dialog>\n                    </div>\n                    <div style=\"display: flex;justify-content: center;margin-top: 30px;margin-bottom: 30px;\">\n                        <el-button type=\"primary\" plain @click=\"releaseButton\">确认发布</el-button>\n                    </div>\n                </div>\n            </div>\n            <app-foot></app-foot>\n        </app-body>\n    </div>\n</template>\n\n<script>\n    import AppHead from '../common/AppHeader.vue';\n    import AppBody from '../common/AppPageBody.vue'\n    import AppFoot from '../common/AppFoot.vue'\n    import options from '../common/country-data.js'\n\n    export default {\n        name: \"release\",\n        components: {\n            AppHead,\n            AppBody,\n            AppFoot\n        },\n        data() {\n            return {\n                imgDialogVisible:false,\n                dialogImageUrl:'',\n                showFileList:true,\n                options:options,\n                selectedOptions:[],\n                options2: [{\n                    value: 1,\n                    label: '数码科技'\n                }, {\n                    value: 2,\n                    label: '生活用品'\n                }, {\n                    value: 3,\n                    label: '运动相关'\n                }, {\n                    value: 4,\n                    label: '图书笔记'\n                }, {\n                    value: 5,\n                    label: '公告展示'\n                }],\n                imgList:[],\n                idleItemInfo:{\n                    idleName:'',\n                    idleDetails:'',\n                    pictureList:'',\n                    idlePrice:0,\n                    idlePlace:'',\n                    idleLabel:''\n                }\n            };\n        },\n        methods: {\n            handleChange(value) {\n                console.log(value);\n                this.idleItemInfo.idlePlace=value[1];\n            },\n            fileHandleRemove(file, fileList) {\n                console.log(file, fileList);\n                for(let i=0;i<this.imgList.length;i++){\n                    if(this.imgList[i]===file.response.data){\n                        this.imgList.splice(i,1);\n                    }\n                }\n            },\n            fileHandlePreview(file) {\n                console.log(file);\n                this.dialogImageUrl=file.response.data;\n                this.imgDialogVisible=true;\n            },\n            fileHandleSuccess(response, file, fileList){\n                console.log(\"file:\",response,file,fileList);\n                this.imgList.push(response.data);\n            },\n            releaseButton(){\n                this.idleItemInfo.pictureList=JSON.stringify(this.imgList);\n                console.log(this.idleItemInfo);\n                if(this.idleItemInfo.idleName&&\n                    this.idleItemInfo.idleDetails&&\n                    this.idleItemInfo.idlePlace&&\n                    this.idleItemInfo.idleLabel&&\n                  (this.idleItemInfo.idlePrice || this.idleItemInfo.idleLabel === 5)){\n                    this.$api.addIdleItem(this.idleItemInfo).then(res=>{\n                        if (res.status_code === 1) {\n                            this.$message({\n                                message: '发布成功！',\n                                type: 'success'\n                            });\n                            console.log(res.data);\n                            this.$router.replace({path: '/details', query: {id: res.data.id}});\n                        } else {\n                            this.$message.error('发布失败！'+res.msg);\n                        }\n                    }).catch(e=>{\n                        this.$message.error('请填写完整信息');\n                    })\n                }else {\n                    this.$message.error('请填写完整信息！');\n                }\n\n            },\n            handleExceed(files, fileList) {\n                this.$message.warning(`限制10张图片，本次选择了 ${files.length} 张图，共选择了 ${files.length + fileList.length} 张图`);\n            },\n            isNotice() {\n\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .release-idle-container {\n        min-height: 85vh;\n    }\n\n    .release-idle-container-title {\n        font-size: 18px;\n        padding: 30px 0;\n        font-weight: 600;\n        width: 100%;\n        text-align: center;\n    }\n\n    .release-idle-container-form {\n        padding: 0 180px;\n    }\n\n    .release-idle-detiles-text {\n        margin: 20px 0;\n    }\n    .release-idle-place{\n        margin-bottom: 15px;\n    }\n    .release-tip{\n        color: #555555;\n        float: left;\n        padding-right: 5px;\n        height: 36px;\n        line-height: 36px;\n        font-size: 14px;\n    }\n    .release-idle-container-picture{\n        margin: 20px 0;\n\n    }\n    .release-idle-container-picture-title{\n        margin: 10px 0;\n        color: #555555;\n        font-size: 14px;\n    }\n    .picture-list {\n        margin: 20px 0;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n</style>"],"sourceRoot":"src/components/page"}]}