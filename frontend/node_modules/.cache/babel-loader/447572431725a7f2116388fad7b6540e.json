{"remainingRequest":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\校园二手交易平台\\代码\\frontend\\src\\components\\page\\platform-admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\src\\components\\page\\platform-admin.vue","mtime":1746759873652},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1678197338000},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678197338000},{"path":"D:\\桌面\\校园二手交易平台\\代码\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1678197338000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"D:/\\u684C\\u9762/\\u6821\\u56ED\\u4E8C\\u624B\\u4EA4\\u6613\\u5E73\\u53F0/\\u4EE3\\u7801/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AppFoot from \"../common/AppFoot.vue\";\nimport IdleGoods from \"../common/IdleGoods.vue\";\nimport orderList from \"../common/orderList.vue\";\nimport userList from \"../common/userList.vue\";\nimport DataStatistics from \"../common/DataStatistics.vue\";\nexport default {\n  name: \"platform-admin\",\n  components: {\n    AppFoot: AppFoot,\n    IdleGoods: IdleGoods,\n    orderList: orderList,\n    userList: userList,\n    DataStatistics: DataStatistics\n  },\n  data: function data() {\n    return {\n      mode: 1,\n      admin: {\n        nickname: ''\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // 通过API获取当前管理员信息\n    this.$api.getUserInfo().then(function (res) {\n      if (res.status_code === 1 && res.data.adminName) {\n        _this.$sta.adminName = res.data.adminName;\n        _this.admin.nickname = res.data.adminName;\n      } else {\n        // 如果API没有返回管理员名称，再尝试从全局状态获取\n        if (_this.$sta && _this.$sta.adminName) {\n          _this.admin.nickname = _this.$sta.adminName;\n        }\n      }\n    }).catch(function (e) {\n      console.log('获取管理员信息失败', e); // 发生错误时尝试从全局状态获取\n\n      if (_this.$sta && _this.$sta.adminName) {\n        _this.admin.nickname = _this.$sta.adminName;\n      }\n    }); // 从URL参数中获取要显示的模块\n\n    var pageParam = this.$route.query.page;\n\n    if (pageParam) {\n      this.mode = parseInt(pageParam);\n    }\n  },\n  methods: {\n    logout: function logout() {\n      var _this2 = this;\n\n      this.$api.loginOut({}).then(function (res) {\n        if (res.status_code === 1) {\n          _this2.$sta.isLogin = false;\n          _this2.$sta.adminName = '';\n\n          _this2.$router.push({\n            path: '/login-admin'\n          });\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    handleSelect: function handleSelect(val) {\n      if (this.mode !== val) {\n        this.mode = parseInt(val); // 更新URL参数，便于刷新页面后仍保持选中状态\n\n        this.$router.push({\n          query: _objectSpread(_objectSpread({}, this.$route.query), {}, {\n            page: val\n          })\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["platform-admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,OAAA,OAAA;AACA,OAAA,SAAA;AACA,OAAA,SAAA;AACA,OAAA,QAAA;AACA,OAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,SAAA,EAAA,SAFA;AAGA,IAAA,SAAA,EAAA,SAHA;AAIA,IAAA,QAAA,EAAA,QAJA;AAKA,IAAA,cAAA,EAAA;AALA,GAFA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA;AADA;AAFA,KAAA;AAMA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA;AAAA;;AACA;AACA,SAAA,IAAA,CAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,WAAA,KAAA,CAAA,IAAA,GAAA,CAAA,IAAA,CAAA,SAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA;AACA,OAHA,MAGA;AACA;AACA,YAAA,KAAA,CAAA,IAAA,IAAA,KAAA,CAAA,IAAA,CAAA,SAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA;AACA,KAVA,EAUA,KAVA,CAUA,UAAA,CAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,CAAA,EADA,CAEA;;AACA,UAAA,KAAA,CAAA,IAAA,IAAA,KAAA,CAAA,IAAA,CAAA,SAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA,KAhBA,EAFA,CAoBA;;AACA,QAAA,SAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;;AACA,QAAA,SAAA,EAAA;AACA,WAAA,IAAA,GAAA,QAAA,CAAA,SAAA,CAAA;AACA;AACA,GA1CA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,WAAA,IAAA,CAAA,QAAA,CAAA,EAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,WAAA,KAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,SAAA,GAAA,EAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OANA,EAMA,KANA,CAMA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,OARA;AASA,KAXA;AAYA,IAAA,YAZA,wBAYA,GAZA,EAYA;AACA,UAAA,KAAA,IAAA,KAAA,GAAA,EAAA;AACA,aAAA,IAAA,GAAA,QAAA,CAAA,GAAA,CAAA,CADA,CAEA;;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AACA,UAAA,KAAA,kCACA,KAAA,MAAA,CAAA,KADA;AAEA,YAAA,IAAA,EAAA;AAFA;AADA,SAAA;AAMA;AACA;AAvBA;AA3CA,CAAA","sourcesContent":["<template>\n\t<div class=\"admin-container\">\n\t\t<el-container>\n\t\t\t<el-header height=\"60px\" class=\"header-container\">\n\t\t\t\t<div class=\"header\">\n\t\t\t\t\t<div class=\"header-left\">\n\t\t\t\t\t\t<router-link to=\"/platform-admin\" class=\"app-name\">校园二手交易平台管理</router-link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"header-right\">\n\t\t\t\t\t\t<span class=\"admin-info\">管理员：{{admin.nickname}}</span>\n\t\t\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"logout\">退出登录</el-button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</el-header>\n\t\t\t<el-container class=\"main-container\">\n\t\t\t\t<el-aside width=\"200px\">\n\t\t\t\t\t<el-menu\n\t\t\t\t\t\t:default-active=\"mode.toString()\"\n\t\t\t\t\t\tclass=\"el-menu-vertical-demo\"\n\t\t\t\t\t\t@select=\"handleSelect\"\n\t\t\t\t\t\tbackground-color=\"#ffffff\"\n\t\t\t\t\t\ttext-color=\"#303133\"\n\t\t\t\t\t\tactive-text-color=\"#409EFF\">\n\t\t\t\t\t\t<el-menu-item index=\"1\">\n\t\t\t\t\t\t\t<i class=\"el-icon-goods\"></i>\n\t\t\t\t\t\t\t<span>闲置管理</span>\n\t\t\t\t\t\t</el-menu-item>\n\t\t\t\t\t\t<el-menu-item index=\"2\">\n\t\t\t\t\t\t\t<i class=\"el-icon-s-goods\"></i>\n\t\t\t\t\t\t\t<span slot=\"title\">订单管理</span>\n\t\t\t\t\t\t</el-menu-item>\n\t\t\t\t\t\t<el-menu-item index=\"3\">\n\t\t\t\t\t\t\t<i class=\"el-icon-s-custom\"></i>\n\t\t\t\t\t\t\t<span slot=\"title\">用户管理</span>\n\t\t\t\t\t\t</el-menu-item>\n\t\t\t\t\t\t<el-menu-item index=\"4\">\n\t\t\t\t\t\t\t<i class=\"el-icon-data-analysis\"></i>\n\t\t\t\t\t\t\t<span slot=\"title\">数据统计</span>\n\t\t\t\t\t\t</el-menu-item>\n\t\t\t\t\t</el-menu>\n\t\t\t\t</el-aside>\n\t\t\t\t<el-main>\n\t\t\t\t\t<IdleGoods v-if=\"mode == 1\"></IdleGoods>\n\t\t\t\t\t<orderList v-if=\"mode == 2\"></orderList>\n\t\t\t\t\t<userList v-if=\"mode == 3\"></userList>\n\t\t\t\t\t<DataStatistics v-if=\"mode == 4\"></DataStatistics>\n\t\t\t\t</el-main>\n\t\t\t</el-container>\n\t\t</el-container>\n\t\t<div class=\"spacer\"></div>\n\t\t<footer class=\"footer\">\n\t\t\t<app-foot></app-foot>\n\t\t</footer>\n\t</div>\n</template>\n\n<script>\n    import AppFoot from '../common/AppFoot.vue'\n    import IdleGoods from '../common/IdleGoods.vue'\n    import orderList from '../common/orderList.vue'\n    import userList from '../common/userList.vue'\n    import DataStatistics from '../common/DataStatistics.vue'\n\n    export default {\n        name: \"platform-admin\",\n        components: {\n            AppFoot,\n            IdleGoods,\n            orderList,\n            userList,\n            DataStatistics,\n        },\n        data() {\n            return {\n                mode: 1,\n                admin: {\n                    nickname: '',\n                },\n            }\n        },\n        created() {\n            // 通过API获取当前管理员信息\n            this.$api.getUserInfo().then(res => {\n                if (res.status_code === 1 && res.data.adminName) {\n                    this.$sta.adminName = res.data.adminName;\n                    this.admin.nickname = res.data.adminName;\n                } else {\n                    // 如果API没有返回管理员名称，再尝试从全局状态获取\n                    if (this.$sta && this.$sta.adminName) {\n                        this.admin.nickname = this.$sta.adminName;\n                    }\n                }\n            }).catch(e => {\n                console.log('获取管理员信息失败', e);\n                // 发生错误时尝试从全局状态获取\n                if (this.$sta && this.$sta.adminName) {\n                    this.admin.nickname = this.$sta.adminName;\n                }\n            });\n            \n            // 从URL参数中获取要显示的模块\n            const pageParam = this.$route.query.page;\n            if (pageParam) {\n                this.mode = parseInt(pageParam);\n            }\n        },\n        methods: {\n            logout() {\n                this.$api.loginOut({}).then(res => {\n                    if (res.status_code === 1) {\n                        this.$sta.isLogin = false;\n                        this.$sta.adminName = '';\n                        this.$router.push({path: '/login-admin'});\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n            },\n            handleSelect(val) {\n                if (this.mode !== val) {\n                    this.mode = parseInt(val);\n                    // 更新URL参数，便于刷新页面后仍保持选中状态\n                    this.$router.push({\n                        query: {\n                            ...this.$route.query,\n                            page: val\n                        }\n                    });\n                }\n            }\n        },\n    }\n</script>\n\n<style scoped>\n\t.admin-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmin-height: 100vh;\n\t\tbackground-color: #f6f6f6;\n\t\tposition: relative;\n\t}\n\n\t.header-container {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground-color: #fff;\n\t\tpadding: 0;\n\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\tz-index: 1000;\n\t\tborder-bottom: 1px solid #eaeaea;\n\t}\n\n\t.header {\n\t\theight: 60px;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 0 20px;\n\t\tmax-width: calc(100% - 40px);\n\t\tmargin: 0 auto;\n\t}\n\n\t.header-left {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\n\t.header-right {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twhite-space: nowrap;\n\t\tmargin-right: 20px;\n\t}\n\n\t.admin-info {\n\t\tmargin-right: 20px;\n\t\tfont-size: 14px;\n\t\tcolor: #606266;\n\t}\n\n\t.main-container {\n\t\tpadding-top: 60px;\n\t\tflex: 1;\n\t\toverflow: hidden;\n\t}\n\n\t.app-name {\n\t\tcolor: #409EFF;\n\t\tfont-size: 18px;\n\t\tfont-weight: 800;\n\t\ttext-decoration: none;\n\t}\n\n\t.el-menu {\n\t\tborder-right: none;\n\t\theight: 100%;\n\t}\n\n\t.el-main {\n\t\tpadding: 0;\n\t\tbackground-color: #f6f6f6;\n\t\theight: calc(100vh - 120px);\n\t\toverflow-y: auto;\n\t}\n\n\t.el-aside {\n\t\tbackground-color: #fff;\n\t\tbox-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);\n\t\theight: calc(100vh - 60px);\n\t}\n\t\n\t.spacer {\n\t\theight: 60px; /* 为页脚留出空间 */\n\t}\n\n\t.footer {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground-color: #fff;\n\t\tpadding: 15px 0;\n\t\ttext-align: center;\n\t\tborder-top: 1px solid #e5e5e5;\n\t\theight: 60px;\n\t\tz-index: 999;\n\t}\n\n\t/* 菜单项样式 */\n\t.el-menu-item {\n\t\theight: 56px;\n\t\tline-height: 56px;\n\t\tfont-size: 14px;\n\t}\n\n\t.el-menu-item i {\n\t\tmargin-right: 10px;\n\t\tfont-size: 18px;\n\t}\n\n\t/* 适应小屏设备 */\n\t@media screen and (max-width: 768px) {\n\t\t.app-name {\n\t\t\tfont-size: 16px;\n\t\t}\n\t\t\n\t\t.admin-info {\n\t\t\tmargin-right: 10px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t\t\n\t\t.el-aside {\n\t\t\twidth: 160px !important;\n\t\t}\n\t\t\n\t\t.header {\n\t\t\tpadding: 0 10px;\n\t\t\tmax-width: calc(100% - 20px);\n\t\t}\n\t\t\n\t\t.header-right {\n\t\t\tmargin-right: 10px;\n\t\t}\n\t\t\n\t\t.header-right .el-button {\n\t\t\tpadding: 7px 10px;\n\t\t\tfont-size: 12px;\n\t\t}\n\t}\n</style>"],"sourceRoot":"src/components/page"}]}