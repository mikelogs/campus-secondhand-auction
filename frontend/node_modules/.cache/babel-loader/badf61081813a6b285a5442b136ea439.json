{"remainingRequest":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\babel-loader\\lib\\index.js!E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\src\\components\\page\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\src\\components\\page\\index.vue","mtime":1647337496824},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645787918793},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\babel-loader\\lib\\index.js","mtime":1645787919664},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645787918793},{"path":"E:\\project\\secondhandShop\\leave unused-goods-trading-platform -front\\node_modules\\vue-loader\\lib\\index.js","mtime":1645787910416}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport AppHead from \"../common/AppHeader.vue\";\nimport AppBody from \"../common/AppPageBody.vue\";\nimport AppFoot from \"../common/AppFoot.vue\";\nexport default {\n  name: \"index\",\n  components: {\n    AppHead: AppHead,\n    AppBody: AppBody,\n    AppFoot: AppFoot\n  },\n  data: function data() {\n    return {\n      labelName: '0',\n      idleList: [],\n      currentPage: 1,\n      totalItem: 1\n    };\n  },\n  created: function created() {\n    this.findIdleTiem(1);\n  },\n  watch: {\n    $route: function $route(to, from) {\n      this.labelName = to.query.labelName;\n      var val = parseInt(to.query.page) ? parseInt(to.query.page) : 1; // let totalPage=parseInt(this.totalItem/8)+1;\n      // val=parseInt(val%totalPage);\n      // val=val===0?totalPage:val;\n\n      this.currentPage = parseInt(to.query.page) ? parseInt(to.query.page) : 1;\n      this.findIdleTiem(val);\n    }\n  },\n  methods: {\n    findIdleTiem: function findIdleTiem(page) {\n      var _this = this;\n\n      var loading = this.$loading({\n        lock: true,\n        text: '加载数据中',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0)'\n      });\n\n      if (this.labelName > 0) {\n        this.$api.findIdleTiemByLable({\n          idleLabel: this.labelName,\n          page: page,\n          nums: 8\n        }).then(function (res) {\n          console.log(res);\n          var list = res.data.list;\n\n          for (var i = 0; i < list.length; i++) {\n            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n            var pictureList = JSON.parse(list[i].pictureList);\n            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n          }\n\n          _this.idleList = list;\n          _this.totalItem = res.data.count;\n          console.log(_this.totalItem);\n        }).catch(function (e) {\n          console.log(e);\n        }).finally(function () {\n          loading.close();\n        });\n      } else {\n        this.$api.findIdleTiem({\n          page: page,\n          nums: 8\n        }).then(function (res) {\n          console.log(res);\n          var list = res.data.list;\n\n          for (var i = 0; i < list.length; i++) {\n            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n            var pictureList = JSON.parse(list[i].pictureList);\n            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n          }\n\n          _this.idleList = list;\n          _this.totalItem = res.data.count;\n          console.log(_this.totalItem);\n        }).catch(function (e) {\n          console.log(e);\n        }).finally(function () {\n          loading.close();\n        });\n      }\n    },\n    handleClick: function handleClick(tab, event) {\n      // console.log(tab,event);\n      console.log(this.labelName);\n      this.$router.replace({\n        query: {\n          page: 1,\n          labelName: this.labelName\n        }\n      });\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n      this.$router.replace({\n        query: {\n          page: val,\n          labelName: this.labelName\n        }\n      });\n    },\n    toDetails: function toDetails(idle) {\n      this.$router.push({\n        path: '/details',\n        query: {\n          id: idle.id\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <app-head></app-head>\n        <app-body>\n            <div style=\"min-height: 85vh;\">\n            <el-tabs v-model=\"labelName\" type=\"card\" @tab-click=\"handleClick\">\n                <el-tab-pane label=\"全部\" name=\"0\"></el-tab-pane>\n                <el-tab-pane label=\"数码科技\" name=\"1\"></el-tab-pane>\n                <el-tab-pane label=\"生活用品\" name=\"2\"></el-tab-pane>\n                <el-tab-pane label=\"运动相关\" name=\"3\"></el-tab-pane>\n                <el-tab-pane label=\"图书笔记\" name=\"4\"></el-tab-pane>\n                <el-tab-pane label=\"公告展示\" name=\"5\"></el-tab-pane>\n            </el-tabs>\n            <div style=\"margin: 0 20px;\">\n                <el-row :gutter=\"30\">\n                    <el-col :span=\"6\" v-for=\"(idle,index) in idleList\">\n                        <div class=\"idle-card\" @click=\"toDetails(idle)\">\n                            <el-image\n                                    style=\"width: 100%; height: 160px\"\n                                    :src=\"idle.imgUrl\"\n                                    fit=\"contain\">\n                                <div slot=\"error\" class=\"image-slot\">\n                                    <i class=\"el-icon-picture-outline\">无图</i>\n                                </div>\n                            </el-image>\n                            <div class=\"idle-title\">\n                                {{idle.idleName}}\n                            </div>\n                            <el-row style=\"margin: 5px 10px;\">\n                                <el-col :span=\"12\">\n                                    <div v-show=\"idle.idlePrice !== 0\" class=\"idle-prive\">￥{{idle.idlePrice}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-show=\"idle.idlePrice === 0\">&nbsp;&nbsp;</div>\n                                </el-col>\n                                <el-col :span=\"12\">\n                                    <div class=\"idle-place\">{{idle.idlePlace}}</div>\n                                </el-col>\n                            </el-row>\n                            <div class=\"idle-time\">{{idle.timeStr}}</div>\n                            <div class=\"user-info\">\n                                <el-image\n                                        style=\"width: 30px; height: 30px\"\n                                        :src=\"idle.user.avatar\"\n                                        fit=\"contain\">\n                                    <div slot=\"error\" class=\"image-slot\">\n                                        <i class=\"el-icon-picture-outline\">无图</i>\n                                    </div>\n                                </el-image>\n                                <div class=\"user-nickname\">{{idle.user.nickname}}</div>\n                            </div>\n                        </div>\n                    </el-col>\n                </el-row>\n            </div>\n            <div class=\"fenye\">\n                <el-pagination\n                        background\n                        @current-change=\"handleCurrentChange\"\n                        :current-page.sync=\"currentPage\"\n                        :page-size=\"8\"\n                        layout=\"prev, pager, next, jumper\"\n                        :total=\"totalItem\">\n                </el-pagination>\n            </div>\n            </div>\n            <app-foot></app-foot>\n        </app-body>\n    </div>\n</template>\n\n<script>\n    import AppHead from '../common/AppHeader.vue';\n    import AppBody from '../common/AppPageBody.vue'\n    import AppFoot from '../common/AppFoot.vue'\n\n    export default {\n        name: \"index\",\n        components: {\n            AppHead,\n            AppBody,\n            AppFoot\n        },\n        data() {\n            return {\n                labelName: '0',\n                idleList: [],\n                currentPage: 1,\n                totalItem: 1\n            };\n        },\n        created() {\n            this.findIdleTiem(1)\n        },\n        watch:{\n            $route(to,from){\n                this.labelName=to.query.labelName;\n                let val=parseInt(to.query.page)?parseInt(to.query.page):1;\n                // let totalPage=parseInt(this.totalItem/8)+1;\n                // val=parseInt(val%totalPage);\n                // val=val===0?totalPage:val;\n                this.currentPage=parseInt(to.query.page)?parseInt(to.query.page):1;\n                this.findIdleTiem(val);\n            }\n        },\n        methods: {\n            findIdleTiem(page){\n                const loading = this.$loading({\n                    lock: true,\n                    text: '加载数据中',\n                    spinner: 'el-icon-loading',\n                    background: 'rgba(0, 0, 0, 0)'\n                });\n                if(this.labelName>0){\n                    this.$api.findIdleTiemByLable({\n                        idleLabel:this.labelName,\n                        page: page,\n                        nums: 8\n                    }).then(res => {\n                        console.log(res);\n                        let list = res.data.list;\n                        for (let i = 0; i < list.length; i++) {\n                            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n                            let pictureList = JSON.parse(list[i].pictureList);\n                            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n                        }\n                        this.idleList = list;\n                        this.totalItem=res.data.count;\n                        console.log(this.totalItem);\n                    }).catch(e => {\n                        console.log(e)\n                    }).finally(()=>{\n                        loading.close();\n                    })\n                }else{\n                    this.$api.findIdleTiem({\n                        page: page,\n                        nums: 8\n                    }).then(res => {\n                        console.log(res);\n                        let list = res.data.list;\n                        for (let i = 0; i < list.length; i++) {\n                            list[i].timeStr = list[i].releaseTime.substring(0, 10) + \" \" + list[i].releaseTime.substring(11, 19);\n                            let pictureList = JSON.parse(list[i].pictureList);\n                            list[i].imgUrl = pictureList.length > 0 ? pictureList[0] : '';\n                        }\n                        this.idleList = list;\n                        this.totalItem=res.data.count;\n                        console.log(this.totalItem);\n                    }).catch(e => {\n                        console.log(e)\n                    }).finally(()=>{\n                        loading.close();\n                    })\n                }\n            },\n            handleClick(tab, event) {\n                // console.log(tab,event);\n                console.log(this.labelName);\n                this.$router.replace({query: {page: 1,labelName:this.labelName}});\n            },\n            handleCurrentChange(val) {\n                console.log(`当前页: ${val}`);\n                this.$router.replace({query: {page: val,labelName:this.labelName}});\n            },\n            toDetails(idle) {\n                this.$router.push({path: '/details', query: {id: idle.id}});\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .idle-card {\n        height: 300px;\n        border: #eeeeee solid 1px;\n        margin-bottom: 15px;\n        cursor: pointer;\n    }\n\n    .fenye {\n        display: flex;\n        justify-content: center;\n        height: 60px;\n        align-items: center;\n    }\n\n    .idle-title {\n        font-size: 18px;\n        font-weight: 600;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        margin: 10px;\n    }\n\n    .idle-prive {\n        font-size: 16px;\n        color: red;\n    }\n\n    .idle-place {\n        font-size: 13px;\n        color: #666666;\n        float: right;\n        padding-right: 20px;\n\n    }\n\n    .idle-time {\n        color: #666666;\n        font-size: 12px;\n        margin: 0 10px;\n    }\n\n    .user-nickname {\n        color: #999999;\n        font-size: 12px;\n        display: flex;\n        align-items: center;\n        height: 30px;\n        padding-left: 10px;\n    }\n\n    .user-info {\n        padding: 5px 10px;\n        height: 30px;\n        display: flex;\n    }\n</style>"],"sourceRoot":"src/components/page"}]}